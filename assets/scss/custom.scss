/* Exact font styling from Matteo Courthoud's website */
@import url('https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@200;300;400;600;700&family=Roboto+Mono:wght@400;500;700&display=swap');

/* Change font family to Source Sans Pro (as used on Matteo's site) */
html, body,
.article-container,
.docs-article-container,
.page-body,
h1, h2, h3, h4, h5, h6,
.article-title,
.navbar,
.nav-link,
.btn,
.site-footer {
    font-family: 'Source Sans Pro', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !important;
}

/* Body text font size - 16px (Matteo's actual size) */
.article-container,
.docs-article-container,
.page-body,
p {
    font-size: 16px !important;
    font-weight: 400 !important;
    line-height: 1.6 !important;
}

/* Heading font sizes - matching Matteo's site */
h1, .article-title {
    font-size: 2.25rem !important;
    font-weight: 600 !important;
    line-height: 1.2 !important;
}

h2 {
    font-size: 1.75rem !important;
    font-weight: 600 !important;
    line-height: 1.3 !important;
}

h3 {
    font-size: 1.375rem !important;
    font-weight: 600 !important;
    line-height: 1.4 !important;
}

h4 {
    font-size: 1.125rem !important;
    font-weight: 600 !important;
    line-height: 1.4 !important;
}

h5 {
    font-size: 1rem !important;
    font-weight: 600 !important;
    line-height: 1.4 !important;
}

h6 {
    font-size: 0.875rem !important;
    font-weight: 600 !important;
    line-height: 1.4 !important;
}

/* Inline code styling */
code {
    background-color: #f5f5f5 !important;
    color: #d73a49 !important;
    padding: 2px 6px !important;
    border-radius: 3px !important;
    font-family: 'Roboto Mono', 'SF Mono', Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace !important;
    font-size: 14px !important;
    font-weight: 400 !important;
    border: none !important;
}

/* Code block container */
pre {
    background-color: #f8f8f8 !important;
    border: 1px solid #e1e4e8 !important;
    border-radius: 6px !important;
    padding: 16px !important;
    margin: 20px 0 !important;
    overflow-x: auto !important;
    font-family: 'Roboto Mono', 'SF Mono', Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace !important;
    font-size: 14px !important;
    line-height: 1.45 !important;
    color: #24292e !important;
    position: relative !important;
}

/* Code inside pre blocks */
pre code {
    background-color: transparent !important;
    color: inherit !important;
    padding: 0 !important;
    border-radius: 0 !important;
    border: none !important;
    font-size: inherit !important;
    white-space: pre !important;
    word-break: normal !important;
    word-wrap: normal !important;
}

/* R code chunk styling (for blogdown) */
.sourceCode {
    background-color: #f8f8f8 !important;
    border: 1px solid #e1e4e8 !important;
    border-radius: 6px !important;
    margin: 20px 0 !important;
    overflow: visible !important;
}

.sourceCode pre {
    background-color: transparent !important;
    border: none !important;
    border-radius: 0 !important;
    margin: 0 !important;
    padding: 16px !important;
}

/* Syntax highlighting colors (matching Matteo's style) */
.sourceCode .co { color: #6a737d; font-style: italic; } /* Comments */
.sourceCode .st { color: #032f62; } /* Strings */
.sourceCode .kw { color: #d73a49; } /* Keywords */
.sourceCode .dt { color: #005cc5; } /* Data types */
.sourceCode .dv { color: #005cc5; } /* Decimal values */
.sourceCode .bn { color: #005cc5; } /* Base-n integers */
.sourceCode .fl { color: #005cc5; } /* Floats */
.sourceCode .fu { color: #6f42c1; } /* Functions */
.sourceCode .op { color: #d73a49; } /* Operators */
.sourceCode .va { color: #e36209; } /* Variables */

/* Code chunk output styling */
.output {
    background-color: #fff !important;
    border: 1px solid #e1e4e8 !important;
    border-top: none !important;
    border-radius: 0 0 6px 6px !important;
    padding: 16px !important;
    margin: 0 0 20px 0 !important;
    font-family: 'Roboto Mono', monospace !important;
    font-size: 14px !important;
    line-height: 1.45 !important;
    color: #24292e !important;
    overflow-x: auto !important;
}

/* Terminal/console styling */
.bash, .shell, .terminal {
    background-color: #2d3748 !important;
    color: #e2e8f0 !important;
    border: 1px solid #4a5568 !important;
}

.bash pre, .shell pre, .terminal pre {
    background-color: transparent !important;
    color: inherit !important;
}

/* Language label styling (optional) */
.sourceCode::before {
    content: attr(data-lang);
    position: absolute;
    top: 8px;
    right: 12px;
    font-size: 12px;
    color: #6a737d;
    font-weight: 600;
    text-transform: uppercase;
    font-family: 'Source Sans Pro', sans-serif;
}

/* Copy button styling (if using) */
.copy-button {
    position: absolute;
    top: 8px;
    right: 8px;
    background: #f6f8fa;
    border: 1px solid #d0d7de;
    border-radius: 4px;
    padding: 4px 8px;
    font-size: 12px;
    cursor: pointer;
    color: #656d76;
    font-family: 'Source Sans Pro', sans-serif;
    transition: all 0.2s ease;
}

.copy-button:hover {
    background: #f3f4f6;
    border-color: #afb8c1;
}

/* Scrollbar styling for code blocks */
pre::-webkit-scrollbar,
.sourceCode::-webkit-scrollbar {
    height: 8px;
}

pre::-webkit-scrollbar-track,
.sourceCode::-webkit-scrollbar-track {
    background: #f1f3f4;
    border-radius: 4px;
}

pre::-webkit-scrollbar-thumb,
.sourceCode::-webkit-scrollbar-thumb {
    background: #c1c8cd;
    border-radius: 4px;
}

pre::-webkit-scrollbar-thumb:hover,
.sourceCode::-webkit-scrollbar-thumb:hover {
    background: #a8b3ba;
}

/* Mobile responsiveness */
@media (max-width: 768px) {
    pre, .sourceCode {
        margin: 16px -15px !important;
        border-left: none !important;
        border-right: none !important;
        border-radius: 0 !important;
        padding: 12px 15px !important;
    }

    code {
        font-size: 13px !important;
        padding: 1px 4px !important;
    }

    pre code {
        font-size: 13px !important;
    }
}

/* Ensure proper spacing around code blocks */
p + pre,
p + .sourceCode {
    margin-top: 16px !important;
}

pre + p,
.sourceCode + p {
    margin-top: 16px !important;
}

/* Remove default highlighting conflicts */
.highlight {
    background: transparent !important;
}

.highlight pre {
    background-color: #f8f8f8 !important;
}

/* Lists font size */
ul, ol {
    font-size: 16px !important;
}

/* Table font size */
table {
    font-size: 15px !important;
}

/* Navigation elements */
.navbar-brand,
.navbar-nav .nav-link {
    font-weight: 400 !important;
}

/* Slightly smaller text for metadata */
.article-metadata,
.page-metadata {
    font-size: 14px !important;
}

// Force TOC to show and style like Matteo's website
#TOC {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    position: fixed !important;
    top: 120px !important;
    right: 30px !important;
    width: 280px !important;
    max-height: calc(100vh - 200px) !important;
    overflow-y: auto !important;
    background: rgba(255, 255, 255, 0.95) !important;
    backdrop-filter: blur(10px) !important;
    border: 1px solid rgba(0, 0, 0, 0.08) !important;
    border-radius: 8px !important;
    padding: 20px !important;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08) !important;
    z-index: 1000 !important;
    font-family: 'Source Sans Pro', sans-serif !important;
    font-size: 14px !important;
    margin: 0 !important;

    ul {
        list-style: none !important;
        margin: 0 !important;
        padding: 0 !important;

        // Nested lists (subsections)
        ul {
            margin-left: 15px !important;
            font-size: 13px !important;

            a {
                color: #6c757d !important;
            }

            // Third level nesting
            ul {
                margin-left: 30px !important;
                font-size: 12px !important;
            }
        }
    }

    li {
        margin: 6px 0 !important;
        padding: 0 !important;
    }

    a {
        color: #34495e !important;
        text-decoration: none !important;
        padding: 4px 0 !important;
        display: block !important;
        transition: color 0.2s ease !important;
        border: none !important;
        background: transparent !important;

        &:hover {
            color: #284f7a !important;
            font-weight: 500 !important;
        }

        &:focus {
            outline: none !important;
            color: #284f7a !important;
        }
    }
}

// Override any theme styles that might hide TOC
.article-container #TOC,
.post-content #TOC,
.content #TOC,
main #TOC {
    display: block !important;
    visibility: visible !important;
}

// Responsive design
@media (max-width: 1200px) {
    #TOC {
        position: relative !important;
        top: 0 !important;
        right: 0 !important;
        width: 100% !important;
        max-width: 400px !important;
        margin: 0 auto 30px auto !important;
        max-height: none !important;
        overflow-y: visible !important;
    }
}

@media (max-width: 768px) {
    #TOC {
        margin-bottom: 20px !important;
        padding: 15px !important;
        font-size: 13px !important;
    }
}

@media (max-width: 576px) {
    #TOC {
        display: none !important;
    }
}



